‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô `pm2-runtime` ‡πÉ‡∏ô Dockerfile ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏≠‡∏õ Node.js ‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ process ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô container ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ñ‡πâ‡∏≤‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡∏≠‡∏á PM2 ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ lifecycle ‡∏Ç‡∏≠‡∏á‡πÅ‡∏≠‡∏õ ‡πÄ‡∏ä‡πà‡∏ô auto-restart, log management ‡∏Ø‡∏•‡∏Ø

‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô `pm2-runtime` ‡πÉ‡∏ô `Dockerfile` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Node.js:

---

### ‚úÖ **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á `Dockerfile`**

```Dockerfile
# ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å base image ‡∏ó‡∏µ‡πà‡∏°‡∏µ Node.js
FROM node:18-alpine

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á PM2 ‡πÅ‡∏ö‡∏ö global
RUN npm install pm2 -g

# ‡∏ï‡∏±‡πâ‡∏á working directory
WORKDIR /app

# ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÑ‡∏õ‡∏¢‡∏±‡∏á container
COPY package*.json ./
RUN npm install

COPY . .

# Expose port ‡∏ó‡∏µ‡πà‡πÅ‡∏≠‡∏õ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
EXPOSE 3000

# ‡πÉ‡∏ä‡πâ pm2-runtime ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ô‡πÅ‡∏≠‡∏õ
CMD ["pm2-runtime", "start", "ecosystem.config.js"]
```

---

### ‚úÖ **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á `ecosystem.config.js`**

```js
module.exports = {
  apps: [
    {
      name: "my-node-app",
      script: "index.js", // ‡∏´‡∏£‡∏∑‡∏≠ main.js ‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ï‡πà‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå
      instances: 1,       // ‡∏´‡∏£‡∏∑‡∏≠ "max" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ multi-core
      exec_mode: "fork",  // ‡∏´‡∏£‡∏∑‡∏≠ "cluster" ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ clustering
      env: {
        NODE_ENV: "production",
      },
    },
  ],
};
```

---

### ‚úÖ ‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ `ecosystem.config.js`

‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ô‡∏ï‡∏£‡∏á‡πÜ ‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢:

```Dockerfile
CMD ["pm2-runtime", "index.js"]
```

---

### ‚ú® ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡∏≠‡∏á `pm2-runtime`:

- ‡∏ó‡∏≥‡πÉ‡∏´‡πâ container ‡πÑ‡∏°‡πà‡∏à‡∏ö process ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å Node ‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£ log ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏Å‡∏±‡∏ö cluster mode ‡∏á‡πà‡∏≤‡∏¢‡πÜ
- ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° process management ‡πÑ‡∏î‡πâ‡∏î‡∏µ‡πÉ‡∏ô production

---

‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÇ‡∏Ñ‡πâ‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡∏ö‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡∏ô‡∏∞ ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÉ‡∏´‡πâ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏Ç‡∏∂‡πâ‡∏ô üòÑ
